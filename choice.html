<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My hero</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="choice-page">
        <div class="story-box">
          <p id="choiceStory"></p>
    </div>
                <div class="options-area" id="optionsArea"></div>
    </div>
<script>
    localStorage.setItem('savePage', 'choice');

    const choiceDB={
        choice1:{
            zhStory:'要趕快過去，萬一王都發生了什麼事就糟了.....',
            enStory:'I must get there quickly; it will be bad if something happens to the Royal Capital.....',
            zhOptions:[
                '前往王都'
            ],
            enOptions:[
                'Go to the Royal Capital.'
            ],
            next:[
                {
                type:'typing',typingId:'t1'},
               
            ]
        },
        choice2:{
            zhStory:'接下來我該思考怎麼辦了....',
            enStory:'What should I do next....',
            zhOptions:[
                '我還是回家種田算了',
                '先觀察情勢',
                '立刻出發'
            ],
            enOptions:[
                'I should just go home and farm',
                 'Observe the situation first',
                 'Leave immediately'
            ],
            next:[
                {type:'story',storyId:'e1'},
                {type:'story',storyId:'s5'},
                {type:'typing',typingId:'t2'}
                
            ]

        },
        choice3:{
            zhStory:'我該怎麼辦......',
            enStory:'What should I do......',
            zhOptions:[
                '出發',
                '還是回家種田算了'
            ],
            enOptions:[
                'Departure',
                'I should just go home and farm'
            ],
            next:[
                {
                type:'typing',typingId:'t2'},
                {type:'story',storyId:'e1'}
            ]
        },
        choice4:{
            zhStory:'先決定從側門進還是正門',
            enStory:'First decide whether to enter through the side door or the front door.',
            zhOptions:[
                '從側門進去',
                '從正門進去'
            ],
            enOptions:[
                'Enter through the side door.',
                'Enter through the front door.'
            ],
            next:[
                {
                type:'typing',typingId:'t3_1'},
                {type:'typing',typingId:'t3_2'}
            ]
        },
        choice5:{
            zhStory:'該往哪邊走',
            enStory:'Which way should we go',
            zhOptions:[
                '從走廊走到大廳',
                '進左手邊的房間',
                '進右手邊的房間'
            ],
            enOptions:[
               'Walk through the corridor to the hall',
                'Enter the room on the left',
                'Enter the room on the right'

            ],
            next:[
                { type:'typing',typingId:'t4_1'},
                {type:'choice',targetId:'choice6'},
                {type:'choice',targetId:'choice6_1'}
            ]
        },
        choice6:{
            zhStory:'一個普通的房間，裡面又連接著兩個房間',
            enStory:'An ordinary room, with two more rooms connected inside',
            zhOptions:[
                '去左邊的房間',
                '去右邊的房間',
                '回去走廊'
            ],
            enOptions:[
                       'Go to the room on the left',
'Go to the room on the right',
'Go back to the corridor'
     ],
            next:[
                {
                type:'choice',targetId:'choice6_1'},
                {type:'choice',targetId:'choice6_2'},
{type:'choice',targetId:'choice5'}
            ]
        },

choice6_2:{
            zhStory:['房間內看起來沒什麼特別的，但你發現有一塊地板上的灰特別少，於是你和夥伴們一起搬起地板',

            '裡面出現了一個通往地下室的地板門，一打開門血腥味撲鼻而來'],
            enStory:['The room does not look like anything special, but you notice a section of the floor has significantly less dust. You and your companions lift the floorboards together',
'A trapdoor leading to the basement appears. As soon as it opens, the thick smell of blood hits your nose'],

            zhOptions:[
                '前往地下室',
                '回去上一個房間'
            ],
            enOptions:[
                'Go to the basement',
'Go back to the previous room'

            ],
            next:[
                {
                type:'typing',typingId:'t5'},
                {type:'choice',targetId:'choice6'}
            ]
        },

choice6_1:{
            zhStory:'裡面的擺設很普通，沒有發現什麼特別的東西',
            enStory:'The interior furnishings are very ordinary; no special items were found',

            zhOptions:[
                '回到走廊'
            ],
            enOptions:[
                   'Return to the corridor'
         ],
            next:[
                {
                type:'choice',targetId:'choice5'}
            ]
        },
        choice7:{
            zhStory:'往哪邊',
            enStory:   'Which way?',
         zhOptions:[
                '左手邊的走廊',
                '右手邊的走廊',
                '二樓'
            ],
            enOptions:[
                         'The corridor on the left',
'The corridor on the right',
'The second floor'
   ],
            next:[
                {
                type:'choice',targetId:'choice5'},
                {type:'choice',targetId:'choice8'},
{type:'story',storyId:'s13'}
            ]
        },

choice8:{
            zhStory:'走廊走到底有一個通往地下室的樓梯，樓梯上滿是拖行留下的血跡',
            enStory:'At the end of the corridor, there is a staircase leading to the basement, and the stairs are covered in bloodstains from something being dragged down.',

            zhOptions:[
                '進地下室',
                '回去大廳'
            ],
            enOptions:[
                'Enter the basement',
'Go back to the main hall'

            ],
            next:[
                {
                type:'story',storyId:'s11'},
                {type:'choice',targetId:'choice7'}
            ]
        },
        choice9:{
            zhStory:'回去吧，該去幫他們報仇了',
            enStory:" Let's go back. It's time to get their revenge.",
            zhOptions:[
                '回到大廳'
                
            ],
            enOptions:[
                'Return to the hall'

            ],
            next:[
                {
                type:'choice',targetId:'choice10'}
            ]
        },

choice10:{
            zhStory:['回到了大廳，夥伴們氣氛不像之前吵吵鬧鬧，所有都都沉寂了下來，緊緊握著武器\n：只剩下二樓了，該上去了'],

            enStory:['Returning to the main hall, the atmosphere among the companions was no longer boisterous as before; everyone had fallen into a heavy silence, their hands gripping their weapons tightly\n: Only the second floor is left. It is time to go up.'],

            zhOptions:[
                '前往二樓'
            ],
            enOptions:[
               'Head to the second floor'
            ],
            next:[
                {
                type:'typing',typingId:'t6'}
            ]
        },
        choice11:{
            zhStory:'該怎麼做',
            enStory:'What should we do?',
            zhOptions:[
                '直接撤退放棄公主',
                '去二樓討伐惡龍帶著公主一起逃'
            ],
            enOptions:[
                'Retreat immediately and abandon the princess',
'Go to the second floor to slay the dragon and escape with the princess'

            ],
            next:[
                {
                type:'typing',typingId:'t7'},
                {type:'typing',typingId:'t8'}
            ]
        },
        choice12:{
            zhStory:'現在該怎麼辦.....',
            enStory:'What should we do…',
            zhOptions:[
                '還是去大門看一下',
                '回到二樓討伐惡龍'
            ],
            enOptions:[
               'Check the main entrance',
'Return to the second floor to slay the dragon'

            ],
            next:[
                {
                type:'choice', targetId:'choice13'},
                {type:'typing',typingId:'t8'}
            ]
        },
choice13:{
            zhStory:['.....果然被鎖起來了\n伊萊突然揮揮手示意我去看，大門上居然還安裝了陷阱，只要試著一推就會響鈴，到時候龍就會追過來吧\n龍有這麼聰明嗎.....而且它那麼大的手居然能安裝這種陷阱？\n我搖搖頭決定先不去思考了，我們現在的選項只有上二樓討伐龍了'],


            enStory:['......As I thought, it’s locked\nEli suddenly waved his hand to signal me to look, there was actually a trap installed on the main door, just trying to push it would set off a bell, at that point the dragon would surely come chasing after us\nIs a dragon really that intelligent.....and could it actually install a trap like this with such massive hands？\nI shook my head and decided not to think about it for now, our only option now is to go to the second floor and slay the dragon'],
            zhOptions:[
                '上二樓討伐惡龍 '
            ],
            enOptions:[
                      'Go to the second floor to slay the dragon'      ],
            next:[
                {
                type:'typing',typingId:'t8'}
            ]
        },
        choice14:{
            zhStory:'既然有了作戰計畫，那就該實行',
            enStory:'Since there is a battle plan, it is time to execute it',
            zhOptions:[
                '前往二樓引龍下來'
            ],
            enOptions:[
                'Go to the second floor to lure the dragon down'
            ],
            next:[
                {
                type:'typing',typingId:'t9'}
            ]
        },
        choice15:{
            zhStory:'龍尾巴甩過來了',
            enStory:'The dragon\'s tail swung over',

            zhOptions:[
                '閃避'
            ],
            enOptions:[
                       'Dodge'
     ],
            next:[
                {
                type:'typing',typingId:'t10'}
            ]
        },
        choice17:{
            zhStory:['龍的尾巴迅速甩過來，我立刻往後退勉強躲過了攻擊\n接下來是反擊時間了，該攻擊哪裡'],

            enStory:['The dragon’s tail swung over rapidly, I immediately stepped back and narrowly dodged the attack\nNext is counterattack time, where should I attack'],

            zhOptions:[
                '攻擊龍的翅膀',
                '攻擊龍的背'
            ],
            enOptions:[
                        'Attack the dragon\'s wings',
'Attack the dragon\'s back'
    ],
            next:[
                {
                type:'typing',typingId:'t11'},
                {type:'typing',typingId:'t11_2'}
            ]
        },
        choice18:{
            zhStory:['劍順利插進龍的背了，龍血也噴濺了起來，但是劍怎麼拔就是拔不出來.....也只能放棄劍了/n龍又開始掙扎了，尾巴甩來甩去的'],

            enStory: ['The sword successfully pierced into the dragon\'s back, and the dragon\'s blood splattered everywhere, but no matter how I pulled, the sword just wouldn\'t come out...I have no choice but to abandon the sword\nThe dragon began struggling again, its tail lashing back and forth'],
           zhOptions:[
                
                '閃避'
            ],
            enOptions:[
                'Dodge'

            ],
            next:[
                {
                type:'typing',typingId:'t12'}
            ]
        },

choice19:{
            zhStory:'找到機會了！',
            enStory:'I found an opening!',
            zhOptions:[
                '攻擊背',
                '攻擊翅膀'
            ],
            enOptions:[
                  'Attack the back', 
'Attack the wings'        ],
            next:[
                {
                type:'typing',typingId:'t11_2'},
                {type:'typing',typingId:'t11_3'}
            ]
        },
        choice20:{
            zhStory:
'龍又開始掙扎了，尾巴甩來甩去，爪子狂亂的揮舞著',

            enStory:    'The dragon began to struggle once more, its tail lashing back and forth and its claws flailing wildly.',
        zhOptions:[
                
                '閃避'
            ],
            enOptions:[
               'Dodge'
            ],
            next:[
                {
                type:'typing',typingId:'t12'}
            ]
        },
        choice21:{
            zhStory:'反擊',
            enStory:'Counterattack',
            zhOptions:[
                '趁機攻擊龍的腹部'
                
            ],
            enOptions:[
                'Take the opportunity to attack the dragon\'s abdomen'
            ],
            next:[
                {
                type:'typing',typingId:'t13'}
            ]
        },
        choice22:{
            zhStory:'我把盾塞給他之後直接開門衝了出去',

            enStory:'I shoved the shield to him and immediately opened the door and rushed out',
            zhOptions:[
                '攻擊龍'
            ],
            enOptions:[
                'Attack the dragon'

            ],
            next:[
                {type:'story',storyId:'s23'}
                
            ]
        },
        choice23:{
            zhStory:'殺死龍',
            enStory:'Kill the dragon',
            zhOptions:[
                '殺死龍'
            ],
            enOptions:[
                'Kill the dragon'
            ],
            next:[
                {
                type:'typing',typingId:'t14'}
            ]
        },
        choice24:{
            zhStory:['劍刺進去了\n：去死吧\n我沒有把劍拔起來，直接後跑撿起了第二把劍，超龍再次刺了過去'],

            enStory:['The sword has pierced through\n: Die\nI did not pull the sword out; instead, I ran back to pick up a second sword and thrust it into the dragon once again.'],
            zhOptions:[
                '攻擊'
                
            ],
            enOptions:[
                'Attack'
            ],
            next:[                
    
           {type:'typing',typingId:'t15'}
            ]
        },
        choice25:{
            zhStory:'但我還是撿起了另一把劍再次衝了過去',
            enStory:'But I still picked up another sword and charged forward once again',
            zhOptions:[
                '攻擊攻擊攻擊攻擊攻擊攻擊攻擊攻擊攻擊攻擊攻擊攻擊攻擊攻擊攻擊攻擊攻擊'
                
            ],
            enOptions:[
                'AttackAttackAttackAttackAttackAttackAttackAttackAttack'
            ],
            next:[                
    
           {type:'typing',typingId:'t16'}
            ]
        },
        
choice26:{
            zhStory:'想好了計畫我撿起了兩把劍',
            enStory:'Having formed a plan, I picked up two swords'
,
            zhOptions:[
                '攻擊龍，前往二樓'
                
            ],
            enOptions:[
                'Attack the dragon and head to the second floor'

            ],
            next:[                
    
           {type:'typing',typingId:'t17'}
            ]
        },
        choice27:{
            zhStory:'機會只有一次',
            enStory:'There is only one chance.',
            zhOptions:[
                 '殺死龍'
                
            ],
            enOptions:[
                'Kill the dragon.'
            ],
            next:[                
    
           {type:'typing',typingId:'t18'}
            ]
        },
        choice28:{
            zhStory:'完成目標',
            enStory:'Finish misson',
            zhOptions:[
                '前往二樓拯救公主'
                
            ],
            enOptions:[
                'Head to the second floor to save the princess'
            ],
            next:[                
    
           {type:'story',storyId:'s29'}

            ]
        },
        choice29:{
            zhStory:'出發',
            enStory:'Departure',
            zhOptions:[
                '以最快速度前往古堡'
                
            ],
            enOptions:[
                'Head to the old manor at the fastest speed'            ],
            next:[                
    
           {type:'typing',typingId:'t19'}
            ]
        },
        choice30:{
            zhStory:'龍立刻就衝了過來',
            enStory:'The dragon immediately rushed over',
            zhOptions:[
                '\“雷諾 • 佛雷徳 停下\”'
                
            ],
            enOptions:[
                '\“Reno Fred, stop\”'            ],
            next:[                
    
           {type:'typing',typingId:'t20'}
            ]
        },
        choice31:{
            zhStory:['我一邊閃避著攻擊一邊思考著......\n也許我先該讓她閉嘴'],


            enStory:['I thought while dodging the attacks......\nMaybe I should make her shut up first'],

            zhOptions:[
                '\“雷諾 • 佛雷徳 發出龍嘯\”'
                
            ],
            enOptions:[
                '\“Reno • Fred, let out a dragon\'s roar\”'
            ],
            next:[                
    
           {type:'typing',typingId:'t24'}
            ]
        },
        choice32:{
            zhStory:['龍的咆哮響徹雲霄，公主下意識捂住了耳朵\n機會來了\n：\“雷諾 • 佛雷徳 抓住她，堵住她的嘴\”\n龍抓住了公主，手指壓在她的嘴上讓她無法說話\n公主不停的掙扎，而我開始衝刺了起來，把劍對準公主'],
            enStory:['The dragon\'s roar echoed through the skies, and the Princess instinctively covered her ears\nThe opportunity has come\n：\“Reno • Fred, seize her and gag her\”\nThe dragon seized the Princess, pressing its finger against her mouth so she could not speak\nThe Princess struggled incessantly, and I began to sprint, aiming my sword at her'],

            zhOptions:[
                '結束一切'
                
            ],
            enOptions:[
                'End everything'
            ],
            next:[                
    
           {type:'typing',typingId:'t25'}
            ]
        }










































    };
    const currentLang=localStorage.getItem('gameLang')||'en';
    const choiceId=localStorage.getItem('currentChoice')||'choice1';
    const data=choiceDB[choiceId];
    

    const storyEl=document.getElementById('choiceStory');
    const optionsArea=document.getElementById('optionsArea');
    
    if(!data){
        storyEl.textContent='Choice data not found.';
    }else{
        storyEl.textContent=(currentLang==='zh')?data.zhStory:data.enStory;
        const options=(currentLang==='zh')?data.zhOptions:data.enOptions;
        optionsArea.innerHTML='';
        options.forEach((text,index)=>{
            const box=document.createElement('div');
            box.className='option-box';
            box.textContent=text;
            box.addEventListener('click',()=>{
                const cfg =data.next[index];
                if(!cfg){
                    
                    return;
                }
                if (cfg.type==='typing'){
                    
                    localStorage.setItem('currentTyping',cfg.typingId);
                    window.location.href='typing.html';
                }else if(cfg.type==='story'){
                    localStorage.setItem('currentStory',cfg.storyId);
                    window.location.href='story.html';}
                
                else if(cfg.type==='choice'){
                    localStorage.setItem('currentChoice',cfg.targetId);
                    window.location.href='choice.html';}});
            
           
            optionsArea.appendChild(box);
        });

    }
    
   
    </script>
</body>













</html>